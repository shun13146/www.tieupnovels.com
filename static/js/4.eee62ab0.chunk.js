(window.webpackJsonpillbenet=window.webpackJsonpillbenet||[]).push([[4],{40:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},41:function(e,t,n){"use strict";var r=n(19),a=n(40),c=n(4),u=n.n(c),s=n(12),o=n(8);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach(function(t){Object(a.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p,f=["4157ac86","aaaafbfe"],h={"4157ac86":function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(18).then(n.t.bind(null,44,3)));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),21481650:function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(10).then(n.t.bind(null,45,3)));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),aaaafbfe:function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(22).then(n.t.bind(null,46,3)));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},b={"4157ac86":[Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(11).then(n.t.bind(null,47,3)));case 1:case"end":return e.stop()}},e)})),Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(12).then(n.t.bind(null,48,3)));case 1:case"end":return e.stop()}},e)})),Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(13).then(n.t.bind(null,49,3)));case 1:case"end":return e.stop()}},e)})),Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(14).then(n.t.bind(null,50,3)));case 1:case"end":return e.stop()}},e)})),Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(15).then(n.t.bind(null,51,3)));case 1:case"end":return e.stop()}},e)})),Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(16).then(n.t.bind(null,52,3)));case 1:case"end":return e.stop()}},e)})),Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(17).then(n.t.bind(null,53,3)));case 1:case"end":return e.stop()}},e)}))],21481650:[Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(6).then(n.t.bind(null,54,3)));case 1:case"end":return e.stop()}},e)})),Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(7).then(n.t.bind(null,55,3)));case 1:case"end":return e.stop()}},e)})),Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(8).then(n.t.bind(null,56,3)));case 1:case"end":return e.stop()}},e)})),Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(9).then(n.t.bind(null,57,3)));case 1:case"end":return e.stop()}},e)}))],aaaafbfe:[Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(19).then(n.t.bind(null,58,3)));case 1:case"end":return e.stop()}},e)})),Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(20).then(n.t.bind(null,59,3)));case 1:case"end":return e.stop()}},e)})),Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(21).then(n.t.bind(null,60,3)));case 1:case"end":return e.stop()}},e)}))]},d={fetchNovel:function(){var e=Object(s.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h[t]){e.next=3;break}throw new o.a("novel_not_found");case 3:return e.next=5,n();case 5:return e.abrupt("return",e.sent.default);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),fetchEpisode:function(){var e=Object(s.a)(u.a.mark(function e(t,n){var r,a,c,s,i,p;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h[t]){e.next=3;break}throw new o.a("novel_not_found");case 3:if(c=b[t][a=1*n]){e.next=7;break}throw new o.a("episode_not_found");case 7:return e.next=9,c();case 9:return s=e.sent.default,i=s.meta,p=s.lines,console.log(p.some(function(e){return!e})),e.next=15,r();case 15:return e.t0=e.sent.default,e.t1={lines:p,meta:l({novel_id:t,has_next:b[t].length>a+1},i)},e.abrupt("return",{meta:e.t0,episode:e.t1});case 18:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),fetchEpisodeList:function(){var e=Object(s.a)(u.a.mark(function e(t){var n,r,a,c,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],n=b[t]){e.next=4;break}throw new o.a("novel_not_found");case 4:a=0;case 5:if(!(a<n.length)){e.next=14;break}return c=n[a],e.next=9,c();case 9:s=e.sent.default.meta,r.push(l({novel_id:t,has_next:a!==n.length-1},s));case 11:a++,e.next=5;break;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),searchNovel:function(){var e=Object(s.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object.keys(h).filter(function(e){return h.hasOwnProperty(e)}).map(function(){var e=Object(s.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h[t]();case 2:return e.t0=e.sent,e.t1=t,e.abrupt("return",{novel:e.t0,id:e.t1});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,"filter:pickup"===t&&(n=n.filter(function(e){return-1!==f.findIndex(function(t){return t===e.id})})),e.abrupt("return",n.reduce(function(e,t){return l(Object(a.a)({},t.id,t.novel),e)},{}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()};p="backend"===Object({NODE_ENV:"production",PUBLIC_URL:""}).FETCHER_IMPL?r.a:d;t.a=p},62:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n(10),c=n(7),u=n(20),s=n(0),o=n.n(s),i=n(1),l=n(6),p=n(14),f=n(41),h=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(a.a)(this,Object(c.a)(t).call(this,e))).state={},n}return Object(r.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.novel?(f.a.fetchEpisodeList(this.props.novel).then(function(t){e.setState({list:t})}).catch(function(t){e.setState({error:t.source})}),f.a.fetchNovel(this.props.novel).then(function(t){e.setState({novel:t})}).catch(function(t){e.setState({error:t.source})})):this.setState({error:{type:"error",phase:"precondition",detail:"URL\u304c\u4e0d\u6b63\u3067\u3059\u3002"}})}},{key:"render",value:function(){var e=this;if(this.state.error)switch(this.state.error){case"novel_not_found":return o.a.createElement("div",{className:"reader"},o.a.createElement("div",{className:"modal"},o.a.createElement("span",{className:"modal-content_single"},"\u5c0f\u8aac\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002\u524a\u9664\u6e08\u307f\u304b\u3001URL\u304c\u9593\u9055\u3063\u3066\u3044\u307e\u3059\u3002")));case"episode_not_found":return o.a.createElement("div",{className:"reader"},o.a.createElement("div",{className:"modal"},o.a.createElement("span",{className:"modal-content_single"},"\u6307\u5b9a\u3055\u308c\u305f\u5c0f\u8aac\u306e\u90e8\u5206\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002\u524a\u9664\u6e08\u307f\u304b\u672a\u6295\u7a3f\u3001\u307e\u305f\u306fURL\u304c\u9593\u9055\u3063\u3066\u3044\u307e\u3059\u3002")));default:return o.a.createElement("div",{className:"reader"},o.a.createElement("div",{className:"modal"},o.a.createElement("span",{className:"modal-content_single"},"\u6280\u8853\u7684\u306a\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u304a\u624b\u6570\u3067\u3059\u304c\u3001\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6dfb\u3048\u3066\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002",o.a.createElement("span",{className:"error-details"},this.state.error.detail))))}return this.state.novel&&this.state.list?(console.log(this.state.list),o.a.createElement("div",{className:"novel-index"},o.a.createElement("div",{className:"episode-list-container"},o.a.createElement("div",{className:"novel-details"},o.a.createElement("h1",{className:"novel-title"},this.state.novel.title),o.a.createElement("div",{className:"novel-author"},this.state.novel.author),o.a.createElement("div",{className:"novel-summary-container"},o.a.createElement("div",{className:"novel-thumbnail"},o.a.createElement("img",{src:this.state.novel.binding,alt:this.state.novel.title})),o.a.createElement("div",{className:"novel-summary"},this.state.novel.summary))),o.a.createElement("h2",null,"\u30a8\u30d4\u30bd\u30fc\u30c9"),o.a.createElement("ol",{className:"episode-list"},this.state.list.map(function(t,n){return o.a.createElement("li",null,o.a.createElement(p.b,{to:"/view/".concat(e.props.novel,"/").concat(n)},t.sub_title))}))))):o.a.createElement("div",{className:"novel-index"},o.a.createElement("div",{className:"spinner"}))}}]),t}(s.Component);function b(e,t){b=function(e,t){return new s(e,t)};var n=Object(u.a)(RegExp),a=RegExp.prototype,c=new WeakMap;function s(e,t){var r=n.call(this,e);return c.set(r,t),r}function o(e,t){var n=c.get(t);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return Object(r.a)(s,n),s.prototype.exec=function(e){var t=a.exec.call(this,e);return t&&(t.groups=o(t,this)),t},s.prototype[Symbol.replace]=function(e,t){if("string"===typeof t){var n=c.get(this);return a[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+n[t]}))}if("function"===typeof t){var r=this;return a[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!==typeof e[e.length-1]&&e.push(o(e,r)),t.apply(this,e)})}return a[Symbol.replace].call(this,e,t)},b.apply(this,arguments)}t.default=function(){return o.a.createElement(h,{novel:((window.location.hash.match(b(/^#\/view\/([a-zA-Z0-9]{8})/,{nid:1}))||{}).groups||{}).nid})}}}]);
//# sourceMappingURL=4.eee62ab0.chunk.js.map